DROP LOGIN linked_server_login_861
GO

DROP FUNCTION sys_linked_servers_vu_prepare__sys_servers_func
GO

DROP VIEW sys_linked_servers_vu_prepare__sys_servers_view
GO

DROP VIEW sys_linked_servers_vu_prepare__sys_linked_logins_view
GO

-- Trying to drop a server that does not exist (Should throw error)
EXEC sp_dropserver @server = 'mssql_server_that_does_not_exist', @droplogins = NULL
GO

-- Dropping a server with droplogins should drop the linked logins as well. Also call sp_dropserver from master.dbo schema
EXEC master.dbo.sp_dropserver @server = 'mssql_server', @droplogins = 'droplogins'
GO

SELECT * FROM sys.servers WHERE name = 'mssql_server'
GO

SELECT * FROM sys.linked_logins
GO

-- psql
DROP EXTENSION tds_fdw CASCADE;
GO
