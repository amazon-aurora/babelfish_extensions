-- psql
select rolname, login_name, type from sys.babelfish_authid_user_ext where login_name in ('aduser@BABEL','aduser2@BABEL',
'aduser3@BABEL','pass','testuser@BABEL');
GO
~~START~~
name#!#name#!#bpchar
master_babel\aduser#!#aduser@BABEL#!#U
master_babel\aduser2#!#aduser2@BABEL#!#U
master_abc#!#aduser3@BABEL#!#U
master_pass#!#pass#!#S
testdb_babel\aduser#!#aduser@BABEL#!#U
testdb_babel\testuser#!#testuser@BABEL#!#U
~~END~~


-- tsql
select count(*) from babelfish_authid_user_ext where rolname = 'master_babel\aduser';
GO
~~START~~
int
1
~~END~~

select count(*) from babelfish_authid_user_ext where rolname = 'master_babel\aduser2';
GO
~~START~~
int
1
~~END~~

select count(*) from babelfish_authid_user_ext where rolname = 'master_abc';
GO
~~START~~
int
1
~~END~~

select count(*) from babelfish_authid_user_ext where rolname = 'master_pass';
GO
~~START~~
int
1
~~END~~

select count(*) from babelfish_authid_user_ext where rolname = 'testdb_temp_user';
GO
~~START~~
int
0
~~END~~

select count(*) from babelfish_authid_user_ext where rolname = 'testdb_babel\testuser';
GO
~~START~~
int
1
~~END~~


-- tsql
select name, type from sys.database_principals where name in ('test_role');
GO
~~START~~
varchar#!#char
test_role#!#R
~~END~~


-- tsql
select name, type from sys.database_principals where name in ('babel\aduser','babel\aduser2',
'abc','pass','temp_user');
GO
~~START~~
varchar#!#char
babel\aduser#!#U
babel\aduser2#!#U
abc#!#U
pass#!#S
~~END~~


-- tsql
use testdb;
GO
select name, type from sys.database_principals where name in ('babel\testuser');
GO
~~START~~
varchar#!#char
babel\testuser#!#U
~~END~~

use master;
GO

-- tsql
select name, type from sys.server_principals where name in ('aduser@BABEL','aduser2@BABEL','aduser3@BABEL',
'pass','testuser@BABEL');
GO
~~START~~
varchar#!#char
aduser@BABEL#!#U
aduser2@BABEL#!#U
aduser3@BABEL#!#U
pass#!#S
testuser@BABEL#!#U
~~END~~

