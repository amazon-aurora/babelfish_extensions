CREATE DATABASE db1;
GO

USE db1
GO

create proc proc_test_1 as select 1;
GO

select count(*) from sys.procedures where name = 'proc_test_1';
GO
~~START~~
int
1
~~END~~


select count(*) from sys.objects where type = 'P' and name = 'proc_test_1';
GO
~~START~~
int
1
~~END~~


USE master
GO

select count(*) from sys.procedures where name = 'proc_test_1';
GO
~~START~~
int
0
~~END~~


select count(*) from sys.objects where type = 'P' and name = 'proc_test_1';
GO
~~START~~
int
0
~~END~~


create proc proc_test_2 as select 2;
GO

select count(*) from sys.procedures where name = 'proc_test_2';
GO
~~START~~
int
1
~~END~~


select count(*) from sys.objects where type = 'P' and name = 'proc_test_2';
GO
~~START~~
int
1
~~END~~


USE db1
GO

select count(*) from sys.procedures where name = 'proc_test_2';
GO
~~START~~
int
0
~~END~~


select count(*) from sys.objects where type = 'P' and name = 'proc_test_2';
GO
~~START~~
int
0
~~END~~


drop procedure proc_test_1
GO

USE master
GO

drop procedure proc_test_2
GO

DROP DATABASE db1
GO
